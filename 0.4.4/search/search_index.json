{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Quick start","text":""},{"location":"#nix-setup","title":"*nix Setup","text":"<p>Assumptions:</p> <ul> <li>You have installed X-Plane 11.50+</li> <li>You have a reasonably fast CPU and broadband internet </li> <li>FUSE is installed and setup (Enable <code>user_allow_other</code> in /etc/fuse.conf, if not already the case.) </li> </ul> <p>Steps:</p> <ol> <li>Download the most recent packaged release autoortho_lin.zip</li> <li>Extract the downloaded file somewhere sensible and make executable if needed <code>chmod +x autoortho_lin.bin</code> </li> <li>Run the program <code>./autoortho_lin.bin</code></li> <li>Configure your X-Plane Custom Scenery directory to point to the appropriate location</li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately</li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#windows-setup","title":"Windows Setup","text":"<p>Assumptions:</p> <ul> <li>You are running 64bit Windows 10+</li> <li>You have install X-Plane 11.50+</li> <li>You have setup and configured Dokan</li> <li> <ul> <li>NOTE: As a backup you can try WinFSP     but Dokan is now recommended.</li> </ul> </li> </ul> <p>Steps:</p> <ol> <li>Download the most recent packaged release autoortho_win.zip</li> <li>Extract the downloaded file and place <code>autoortho_win.exe</code> in a sensible location</li> <li>Run the program</li> <li>Configure your X-Plane Custom Scenery directory to point to the appropriate location</li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately </li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#scenery-setup","title":"Scenery Setup","text":""},{"location":"#using-provided-sceneries","title":"Using provided sceneries","text":"<p>IMPORTANT</p> <p>The scenery packs provided with this tool that you download should be setup via the configuration utility.  This does more than simply download and extract the files.</p> <p>If you do wish to manaually manipulate these scenery packs, you should review the source code (downloader.py in particular) and understand how symlinks and/or junctions work and the limitations of each.</p> <p>If you manually move things around outside of the configuration utility, things very well might break!</p> <p>IMPORTANT</p>"},{"location":"#configuring-scenery_packsini","title":"Configuring scenery_packs.ini","text":"<p>Any scenery added to XPlane requires being setup in the scenery_packs.ini file located in your installs 'Custom Scenery' directory.</p> <p>This file is order dependent where higher priority layers are towards the top of the file and lower priority items are towards the bottom.</p> <p>On initial run of XPlane after installing new scenery, these layers will automatically be added to your scenery_packs.ini file, but likely in an incorrect location.</p> <p>This can result in strange issues, such as having no roads, buildings, or trees when flying with XPlane.  If this is the case, double check the order of files in scenery_packs.init</p> <p>This tool will download and setup numerous directories in your 'Custom Scenery' folder of the form:  <code>z_&lt;short name of scenery pack&gt;_&lt;number&gt;</code> and a directory named <code>yAutoOrtho_Overlays</code>.  Typically these should be listed towards the bottom of your scenery_packs.ini file:</p> <pre><code>Landmarks, airports, etc\nsimHeaven, special layers, etc\nyAutoOrtho_Overlays\nz_aus_pac_00\nz_aus_pac_01\nz_aus_pac_02\nz_aus_pac_03\nz_aus_pac_04\nz_aus_pac_05\nz_aus_pac_06\nzzz_global_scenery\n</code></pre>"},{"location":"#requirements-and-compatibility","title":"Requirements and Compatibility","text":"<p>This project requires python3.x and all pre-requisites in the <code>requirements.txt</code> file.  Also, a copy of X-Plane 11.50+ of course.</p> <p>Most testing is done on Ubuntu 20.04 using FUSE.  Other Linux flavors ought to work as well.  MacOS very likely should work, but I have no way of testing it.</p> <p>I have done testing on Windows 10 with the WinFSP project.  This does appear to work fine, but this is not how I use this project, so it's not my primary concern.</p>"},{"location":"#known-issues-and-limits","title":"Known issues and limits","text":"<ul> <li>Currently I try to limit the cache to 2GB of memory, though it's possible it   will exceed this in certain scenarios.</li> <li>Not really possible to post-process the satellite photos.  You get what you   get.</li> <li>Will still require properly created DSF files</li> <li>Will add a couple minutes to initial flight time for new areas.  That's to   be expected though.</li> </ul>"},{"location":"#todos","title":"TODOS","text":"<ul> <li>~See if this will work on Windows with WinFSP~ </li> <li>Re-introduce a file cache for tiles purged from memory</li> <li>~Allow for overriding the satellite source type.  Since this pulls on the fly, we aren't stuck with what was setup initially with Ortho4XP.~</li> <li>~Package a set of DSF files to get started with~</li> <li>See if we can auto-arrange scenery_packs.ini files</li> </ul>"},{"location":"#warnings-warranty-etc","title":"Warnings, Warranty, etc","text":"<p>This project is provided free of charge and is not warrantied in any way.  Use at your own risk.</p> <p>Accessing map data from 3rd parties may or may not be allowed and is up to you the end user to determine and use appropriately.</p>"},{"location":"details/","title":"Approach","text":"<p>There does not appear to be a way to hook directly into the internal texture loading mechanism of X-Plane via plugins.  Instead, this project acts as a virtual file system interface for orthophoto satellite imagery.</p> <p>As needed, imagery is downloaded from the indicated satellite photo sources as areas are requested.  Imagery files are detected by naming convention of <code>{row}_{col}_{maptype}_{zoomlevel}.dds</code>  This is the standard convention for imagery created from Ortho4XP.</p>"},{"location":"details/#how-does-x-plane-access-scenery","title":"How does X-Plane access scenery?","text":"<p>Let's look at how X-Plane accesses scenery.  In the install directory of X-Plane there will be a <code>Custom Scenery</code> folder.  Under this folder there will be a number of sub directories of scenery and a <code>scenery_packs.ini</code> configuration file.  This is where X-Plane will look for scenery.</p> <p>Under each scenery subdirectory, there will be an <code>Earth Nav Data</code> directory that contains a number of lat-lon named subdirectories.  Under these subdirectories will be a number of DSF files that contain instructions for X-Plane for this set of coordinates.</p> <p>These DSF files are picked up by X-Plane based on the area that you are flying.  During flight initialization a set of these files around your takeoff location are loaded.  While flying new DSF files will be loaded.  This loading while flying happens asynchronously behind the scenes.</p> <p>The DSF files can contain various instructions for X-Plane.  What we are interested in for orthophotos are terrain files.  The terrain files a DSF contains would then point to the textures requested for this terrain, including satellite photo textures.  These files are typically <code>.dds</code> files, though that's not always the case.</p> <p>DDS files can contain multiple copies of the same texture at reduced resolutions.  These are referred to as 'mipmaps'.  This allows X-Plane to just pull in the minimum amount of data that is required into memory at any given time.  Typically the maximum resolution for a texture is only required while flying low and for close by tetxures.</p>"},{"location":"details/#how-this-project-leverages-this-setup-high-level-description","title":"How this project leverages this setup (high level description)","text":"<p>This project effectively requires all the parts of normal orthophoto satellite imagery, except for the satellite photos themselves.</p> <p>Existing mechanisms to create and manage DSF files, and related terrain files, still applies.  X-Plane continues to reference these files as per normal.</p> <p>This program will detect when DDS files are accessed and read from X-Plane. When X-Plane attempts to read a specific mipmap of a texture this program will pull down just the minimum required data and return this data to X-Plane. This happens behind the scenes and as far as X-Plane is concerned, it is continuing to read a normal filesystem.</p> <p>Since we only download the minimum required data, this process is relatively efficient.</p> <p>Data is cached in memory until a memory limit is reached, at which time older data will be purged.</p>"},{"location":"details/#expert-usage-and-overriding-defaults","title":"Expert Usage and Overriding Defaults","text":""},{"location":"details/#warning","title":"Warning","text":"<p>I highly recommend using the pre-packaged scenery packs provided with this tool.  </p> <p>However, it's entirely possible to use your own scenery, if you wish.  This could be useful for situations where you want an area I haven't gotten to packaging yet, or want a different zoom level that what is provided.</p> <p>This should be considered an experts-only feature though and assumes: * You are very comfortable with the command line * You are very experienced using Ortho4XP and with installing custom scenery * You are very familiar with filesystem concepts and managing your Operating   System</p> <p>If you don't have this experience, that's okay, but likely you will struggle adding your own custom created scenery.  I would recommend that you familiarize yourself with each of these listed items before proceeding.</p>"},{"location":"details/#adding-your-own-created-sceneries","title":"Adding your own created sceneries","text":"<p>Ready to add your own sceneries? Great!</p> <p>So as mentioned above, this tool effectively overrides the 'textures' directory that XPlane is pointing to in order to location satellite imagery that is referrenced by a scenery pack's terrain files.</p> <p>Due to how XPlane identifies terrain information, these directories have been split up into reasonable sized pieces, which is why each provided scenery pack has numerous numbered directories. </p> <p>However, autoorotho only mounts a single directory, under <code>Custom Scenery/z_autoortho/textures</code>.  </p> <p>How does that work then?  Simple each scenery directory provided by autoortho just symlinks (on linux) or sets up a filesystem junction (on windows) to this mount point!</p> <p>However, sceneries that do not have satellite imagery, likely still have coastline PNG files that must be preserved.  These are simply moved to <code>Custom Scenery/z_autoortho/_textures</code></p> <p>You can take advantage of this setup for your own scenery that you have packaged: * Place your scenery in <code>Custom Scenery</code> as per normal * Copy any existing texture files to <code>Custom Scenery/z_autoortho/_textures</code> * Symlink, or directoy junction your scenery to <code>Custom   Scenery/z_autoortho/textures</code></p>"},{"location":"details/#ortho4xp-usage-tips","title":"Ortho4XP Usage Tips","text":"<p>Ortho4XP can generate scenery files without downloading photos, which is perfect for this project.  In the config set <code>skip_downloads</code> to <code>True</code></p> <p>Since this starts with low resolution imagery until you get going, I recommend enabling <code>high_zl_airports</code></p> <p>So far I've been testing with a ZL of 16 for most tiles with increased ZL of 18 for airports.  You may have want to play around with the ZL levels for best results.</p> <p>Higher zoom levels will lead to increased resource usage and longer delays initially starting up flights.</p>"},{"location":"faq/","title":"FAQ and Troubleshooting","text":""},{"location":"faq/#on-windows-the-executablezip-is-detected-as-a-malwarevirus-by-windows-defender","title":"On Windows the executable/zip is detected as a malware/virus by Windows Defender","text":"<p>That is a false positive.  Unfortunately, Windows is very dev and opensource unfriendly.  You can choose to ignore this false positive or not, it's your computer.  Alternatively, you can run this directly via source.</p>"},{"location":"faq/#on-linux-this-does-not-startgives-a-fuse-error","title":"On Linux this does not start/gives a FUSE error","text":"<p>Make sure that your <code>/etc/fuse.conf</code> files is set to <code>user_allow_other</code>.  You may need to uncomment a line.</p>"},{"location":"faq/#i-get-an-error-like-failed-to-find-resource-textures22304_34976_bi16dds-referenced-from-file-custom-sceneryz_eur_11terrain","title":"I get an error like <code>Failed to find resource '../textures/22304_34976_BI16.dds', referenced from file 'Custom Scenery/z_eur_11/terrain/'.</code>","text":"<p>What's happening is that X-Plane has found a terrain file, but is not finding a linked texture.  This could be caused by a few issues:</p> <ul> <li>AutoOrtho isn't running</li> <li>You may have broken the links from your texture directories to the AutoOrtho mount location. Perhaps you manually moved around directories after downloading these from the configuration utility.</li> <li>The directory AutoOrtho is configured to run from is now different from the directory links the scenery packs point to.</li> </ul> <p>First verify that AutoOrtho is running and there are no obvious errors shown in a log.  If it is running then verify that all the directory links are correct, and consider simply cleaning up and reinstalling scenery from scratch, keeping a consistent 'Custom Scenery' directory configured.</p> <p>If in doubt, re-install the scenery packs.</p>"},{"location":"faq/#something-went-wrong-with-scenery-setup-and-id-like-to-start-again-how-do-i-reinstall","title":"Something went wrong with scenery setup and I'd like to start again.  How do I reinstall?","text":"<p>AutoOrtho checks for metadata for installed scenery packs in <code>Custom Scenery/z_autoorth/**_info.json</code>  Where '**' is a shortname for each scenery pack installed.  You can delete the corresponding .json file, and re-run the configuration utility and should be able to reinstall the scenery pack</p>"},{"location":"faq/#i-installed-scenery-setup-custom-scenery-and-clicked-fly-but-x-plane-did-not-automatically-startup","title":"I installed scenery, setup Custom Scenery, and clicked 'Fly' but X-Plane did not automatically startup","text":"<p>You have to start X-Plane separately from this tool.  It's also best to start X-Plane after starting autoortho so that all new files and directories are picked up.</p>"},{"location":"faq/#when-using-windows-i-see-an-error-using-the-runbat-file-such-as-note-this-error-originates-from-a-subprocess-and-is-likely-not-a-problem-with-pip-error-legacy-install-failure","title":"When using Windows I see an error using the run.bat file such as <code>note: This error originates from a subprocess, and is likely not a problem with pip. error: legacy-install-failure</code>","text":"<p>This is likely due to having a very new version of Python and a package dependency that does not have a pre-built 'wheel' binary.  Further in that error you will see a link to visual studio build tools that can be installed.  You could also try downgrading your version of Python.  For instance try uninstalling Python 3.11 and install Python 3.10.</p>"},{"location":"info/","title":"Info Attributions and Other Projects","text":"<ul> <li>Maps generated from Ortho4XP</li> <li>Slippy Mapy Tilenames</li> <li>Icon by Vital Gorbachev</li> </ul>"}]}